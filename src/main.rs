use factory::{Factory, commands::commands_from_str};

fn main() {
    let mut my_factory = Factory::default();
    let commands = commands_from_str("BOOT
    v>>>>>>>vv<<v<<<<<
    v>>>>>v<<<<<
    v>>>>>>>vv<<v<<<<<
    v>>>>>>>vv<<v<<<<<
    v>>>>>v<<<<<
    v>>>>>>>vv<<v<<<<<
    v>>>>>>>vv<<v<<<<<
    v>>>>>>>vv<<v<<<<<
    v>>>>>>>vv<<v<<<<<
    v>>>>>v<<<<<
    v>>>>>v<<<<<
    v>>>>>>>vv<<v<<<<<
    v>>>>>>>vv<<v<<<<<
    v>>>>>v<<<<<
    v>>>>>>>vv<<v<<<<<
    v>>>>>v<<<<<
    v>>>>>>>vv<<v<<<<<
    v>>>>>v<<<<<
    v>>>>>v<<<<<
    v>>>>>>>vv<<v<<<<<
    v>>>>>v<<<<<
    v>>>>>v<<<<<
    v>>>>>>>vv<<v<<<<<
    v>>>>>>>vv<<v<<<<<
    v>>>>>>>vv<<v<<<<<
    v>>>>>v<<<<<
    v>>>>>v<<<<<
    v>>>>>>>vv<<v<<<<<
    v>>>>>v<<<<<
    v>>>>>v<<<<<
    v>>>>>>>vv<<v<<<<<
    v>>>>>>>vv<<v<<<<<
    v>>>>>>>vv<<v<<<<<
    v>>>>>v<<<<<
    v>>>>>v<<<<<
    v>>>>>>>vv<<v<<<<<
    v>>>>>v<<<<<
    v>>>>>v<<<<<
    v>>>>>v<<<<<
    v>>>>>v<<<<<
    v>>>>>>>vv<<v<<<<<
    v>>>>>>>vv<<v<<<<<
    v>>>>>v<<<<<
    v>>>>>>>vv<<v<<<<<
    v>>>>>v<<<<<
    v>>>>>v<<<<<
    v>>>>>>>vv<<v<<<<<
    v>>>>>>>vv<<v<<<<<
    v>>>>>>>vv<<v<<<<<
    v>>>>>>>vv<<v<<<<<
    v>>>>>v<<<<<
    v>>>>>>>vv<<v<<<<<
    v>>>>>>>vv<<v<<<<<
    v>>>>>>>vv<<v<<<<<
    v>>>>>>>vv<<v<<<<<
    v>>>>>>>vv<<v<<<<<
    v>>>>>>>vv<<v<<<<<
    v>>>>>v<<<<<
    v>>>>>v<<<<<
    v>>>>>v<<<<<
    v>>>>>>>vv<<v<<<<<
    v>>>>>v<<<<<
    v>>>>>v<<<<<
    v>>>>>v<<<<<
    v>>>>>>>vv<<v<<<<<
    v>>>>>v<<<<<
    v>>>>>v<<<<<
    v>>>>>>>vv<<v<<<<<
    v>>>>>v<<<<<
    v>>>>>v<<<<<
    v>>>>>v<<<<<
    v>>>>>v<<<<<
    v>>>>>>>vv<<v<<<<<
    v>>>>>v<<<<<
    v>>>>>v<<<<<
    v>>>>>v<<<<<
    v>>>>>>>vv<<v<<<<<
    v>>>>>>>vv<<v<<<<<
    v>>>>>v<<<<<
    v>>>>>>>vv<<v<<<<<
    v>>>>>>>vv<<v<<<<<
    v>>>>>v<<<<<
    v>>>>>v<<<<<
    v>>>>>>>vv<<v<<<<<
    v>>>>>v<<<<<
    v>>>>>v<<<<<
    v>>>>>>>vv<<v<<<<<
    v>>>>>>>vv<<v<<<<<
    v>>>>>>>vv<<v<<<<<
    v>>>>>v<<<<<
    v>>>>>v<<<<<
    v>>>>>>>vv<<v<<<<<
    v>>>>>>>vv<<v<<<<<
    v>>>>>v<<<<<
    v>>>>>>>vv<<v<<<<<
    v>>>>>>>vv<<v<<<<<
    v>>>>>>>vv<<v<<<<<
    v>>>>>>>vv<<v<<<<<
    v>>>>>v<<<<<
    v>>>>>>>vv<<v<<<<<
    v>>>>>>>vv<<v<<<<<
    v>>>>>>>vv<<v<<<<<
    v>>>>>>>vv<<v<<<<<
    v>>>>>v<<<<<
    O");
    
    for c in commands {
        println!("{}", my_factory);
        //let _ = stdin().lock().read_line(&mut String::new());
        my_factory.interpret_command(c);
    }
}
